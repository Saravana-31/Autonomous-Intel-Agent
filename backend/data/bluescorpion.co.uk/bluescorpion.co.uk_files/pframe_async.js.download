var _PF_varList={};function _PF_getVar(a){if(a in _PF_varList)return _PF_varList[a];tobjid=a;a=$o(a);if(!a)return!1;ret="";try{switch(a.tagName.toString().toLowerCase()){case "textarea":case "input":switch(a.type){case "radio":case "checkbox":ret=a.checked;break;default:ret=a.value}break;case "select":ret=a.options[a.selectedIndex].value}return ret}catch(b){alert("An error has occured: "+b.message+(a&&a.id?" (Object: "+a.id+")":""))}}
function _PF_setVar(a,b){a=$o(a);if(!a)return!1;ret="";switch(a.tagName.toString().toLowerCase()){case "textarea":case "input":a.value=b;break;case "select":if(a.options)for(var c=0;c<a.options.length;++c)if(a.options[c].value==b){a.selectedIndex=c;break}}return ret}
function _PF_enableField(a){a=$o(ofieldobject=a);if((fieldobject_disp=$o(ofieldobject+"_disp"))&&"select"==fieldobject_disp.tagName.toLowerCase()&&a&&a.tagName&&"input"==a.tagName.toLowerCase()&&"hidden"==a.type){var b=a.parentNode;removedOK=!0;b?null===b.removeChild(a)&&(removedOK=!1):removedOK=!1;if(!removedOK)return alert("A problem occurred trying to re-enable a field. ("+fieldobject_disp.title+")"),!1;fieldobject_disp.setAttribute("id",ofieldobject);fieldobject_disp.setAttribute("name",ofieldobject);
a=$o(ofieldobject)}if(!a||!a.tagName)return!1;switch(a.tagName.toLowerCase()){case "select":a.disabled=!1;break;default:a.readOnly=!1}}
function _PF_disableField(a){a=$o(ofieldobject=a);if(!a)return alert("A problem has occurred. An invalid call was made to _PF_disableField with field reference: "+ofieldobject+". This object was not found."),!1;switch(a.tagName.toLowerCase()){case "select":for(var b=newId=(cId=a.id)+"_disp",c=newName=(cName=a.name)+"_disp",h=0,f;(f=document.getElementById(newId))&&null!==f;)newId=b+"_"+ ++h;for(b=0;(f=document.getElementsByName(newName))&&f&&0<f.length;)newName=c+"_"+ ++b;a.setAttribute("id",newId);
a.setAttribute("name",newName);hiddenObj=document.createElement("input");hiddenObj.setAttribute("type","hidden");hiddenObj.setAttribute("id",cId);hiddenObj.setAttribute("name",cName);hiddenObj.setAttribute("value",a.options[a.selectedIndex].value);(c=a.parentNode)&&c.appendChild(hiddenObj);a.disabled=!0;break;default:a.readOnly=!0}}function _PF_enableFields(a,b,c){alert("_PF_enableFields is a stub function. It needs writing. Sorry about that.")}
function _PF_disableFields(a,b,c){null===b&&(b=!1);a=$o(a);for(var h=["input","textarea","select","a"],f=0;f<h.length;++f)for(var g=a.getElementsByTagName(h[f]),e=0;e<g.length;++e)if((b||"a"!=h[f]&&("input"!=h[f]||"button"!=g[e].type&&"submit"!=g[e].type))&&!(g[e].id&&c&&(g[e].id in c||c.indexOf&&-1<c.indexOf(g[e].id))))if("a"==h[f])g[e].hasAttribute("href")&&g[e].setAttribute("href","javascript: void(0)"),g[e].hasAttribute("onclick")&&g[e].removeAttribute("onclick"),g[e].hasAttribute("class")&&g[e].removeAttribute("class");
else if("select"==h[f]){for(var l=newId=(cId=g[e].id)+"_disp",m=newName=(cName=g[e].name)+"_disp",n=0,k;(k=document.getElementById(newId))&&null!==k;)newId=l+"_"+ ++n;for(l=0;(k=document.getElementsByName(newName))&&k&&0<k.length;)newName=m+"_"+ ++l;g[e].setAttribute("id",newId);g[e].setAttribute("name",newName);hiddenObj=document.createElement("input");hiddenObj.setAttribute("type","hidden");hiddenObj.setAttribute("id",cId);hiddenObj.setAttribute("name",cName);hiddenObj.setAttribute("value",g[e].options[g[e].selectedIndex].value);
(m=g[e].parentNode)&&m.appendChild(hiddenObj);g[e].disabled=!0}else g[e].readOnly=!0}function preCheck(a,b){return!a.readOnly}var validDateObj=null;
function isValidDate(a,b,c,h,f){if(!a)return!0;dateformatbits=b.split(/[\- \/T:]/);datebits=a.split(/[\- \/T:]/);if(datebits.length>dateformatbits.length)return!1;delpatt=/[\- \/T:]/g;for(datedelimters=[];dmat=delpatt.exec(b);)datedelimters[datedelimters.length]=dmat[0];if(1==datebits.length&&1<dateformatbits.length)return 0 in datedelimters?isValidDate(a+datedelimters[0],b,c):!1;datearr=[];for(bloop=0;bloop<dateformatbits.length;++bloop){datebits[bloop]=datebits[bloop]&&""!==datebits[bloop]?datebits[bloop]:
strftime(dateformatbits[bloop]);arrpos=-1;switch(dateformatbits[bloop]){case "%d":arrpos=0;1==datebits[bloop].toString().length&&(datebits[bloop]="0"+datebits[bloop]);break;case "%m":arrpos=1;1==datebits[bloop].toString().length&&(datebits[bloop]="0"+datebits[bloop]);break;case "%y":2<datebits[bloop].toString().length&&(datebits[bloop]=datebits[bloop].substr(-2));arrpos=2;break;case "%Y":4>datebits[bloop].toString().length&&(datebits[bloop]=parseInt(datebits[bloop])+2E3);arrpos=2;break;case "%H":if("0"==
datebits[bloop]||"00"==datebits[bloop])datebits[bloop]=(new Date).getHours();1==datebits[bloop].toString().length&&(datebits[bloop]="0"+datebits[bloop].toString());arrpos=3;break;case "%M":1==datebits[bloop].toString().length&&(datebits[bloop]="0"+datebits[bloop]);arrpos=4;break;case "%S":1==datebits[bloop].toString().length&&(datebits[bloop]="0"+datebits[bloop]);arrpos=5;break;default:if("%"==dateformatbits[bloop].substr(0,1))return alert("The date format specified contains invalid format characters. ("+
dateformatbits[bloop]+")"),!0}-1<arrpos&&(datearr[arrpos]=datebits[bloop])}for(bloop=0;5>=bloop;++bloop)if(!(bloop in datearr&&""!=datearr[bloop]))switch(bloop){case 0:datearr[bloop]="01";break;case 1:datearr[bloop]="01";break;case 2:datearr[bloop]=(new Date).getFullYear();break;case 3:datearr[bloop]="12";break;case 4:datearr[bloop]="00";break;case 5:datearr[bloop]="00"}datereformed="";for(bloop=0;bloop<datebits.length;++bloop)datereformed+=(bloop-1 in datedelimters?datedelimters[bloop-1]:"")+datebits[bloop];
parseabledate=datearr.slice(0,3).reverse().join("-")+"T"+datearr.slice(3).join(":");d=Date.parse(parseabledate);dd=new Date;dd.setTime(d);c&&0<d&&_PF_setVar(c,strftime(b,new Date(d)));return!(0<dd.valueOf())||datereformed!=strftime(b,dd)||b&&(""!=h&&null!=h||""!=f&&null!=f)&&(inputdate=strftime(b,new Date(d)),indate=date2Epoch(inputdate,b),fdate=date2Epoch(h,b),tdate=date2Epoch(f,b),""!=fdate&&indate<fdate||""!=f&&indate>tdate)?!1:!0}
function date2Epoch(a,b){if(!a)return!0;dateformatbits=b.split(/[\- \/T:]/);datebits=a.split(/[\- \/T:]/);if(datebits.length>dateformatbits.length)return!1;delpatt=/[\- \/T:]/g;dateobj=new Date;for(bloop=wasSet=0;bloop<dateformatbits.length;++bloop)switch(datebits[bloop]=datebits[bloop]&&""!==datebits[bloop]?datebits[bloop]:strftime(dateformatbits[bloop]),dateformatbits[bloop]){case "%d":wasSet|=8;dateobj.setDate(datebits[bloop]);break;case "%m":wasSet|=16;dateobj.setMonth(parseInt(datebits[bloop])-
1);break;case "%y":wasSet|=32;dateobj.setFullYear("20"+datebits[bloop]);break;case "%Y":wasSet|=64;dateobj.setFullYear(datebits[bloop]);break;case "%H":wasSet|=4;dateobj.setHours(datebits[bloop]);break;case "%M":wasSet|=2;dateobj.setMinutes(datebits[bloop]);break;case "%S":wasSet|=1;dateobj.setSeconds(datebits[bloop]);break;default:if("%"==dateformatbits[bloop].substr(0,1))return alert("The date format specified contains invalid format characters. ("+dateformatbits[bloop]+")"),!0}wasSet&1||wasSet&
2||wasSet&4||(dateobj.setSeconds(0),dateobj.setMinutes(0),dateobj.setHours(12));dateobj.setMilliseconds(0);return dateobj.getTime()}
function formatDate(a){dateformatbits=a.split(/[\- \/T:]/);delpatt=/[\- \/T:]/g;for(datedelimters=[];dmat=delpatt.exec(a);)datedelimters[datedelimters.length]=dmat[0];datearr=[];for(bloop=0;bloop<dateformatbits.length;++bloop)switch(dateformatbits[bloop]){case "%d":datearr[bloop]="dd";break;case "%m":datearr[bloop]="mm";break;case "%y":datearr[bloop]="yy";break;case "%Y":datearr[bloop]="yyyy";break;case "%H":datearr[bloop]="HH";break;case "%M":datearr[bloop]="MM";break;case "%S":datearr[bloop]="SS"}datereformed=
"";for(bloop=0;bloop<datearr.length;++bloop)datereformed+=(bloop-1 in datedelimters?datedelimters[bloop-1]:"")+datearr[bloop];return datereformed}
function exampleDate(a){dateformatbits=a.split(/[\- \/]/);datearr=[];for(bloop=0;bloop<dateformatbits.length;++bloop)switch(arrpos=-1,dateformatbits[bloop]){case "%d":datearr[0]=(new Date).getDate();1==datearr[0].toString().length&&(datearr[0]="0"+datearr[0]);break;case "%m":datearr[1]=(new Date).getMonth()+1;1==datearr[1].toString().length&&(datearr[1]="0"+datearr[1]);break;case "%y":datearr[2]=(new Date).getYear();2<datearr[2].toString().length&&(datearr[2]=datearr[2].toString().substr(-2));break;
case "%Y":datearr[2]=(new Date).getFullYear();2==datearr[2].toString().length&&(datearr[2]=parseInt(datearr[2])+2E3);break;case "%H":datearr[3]=(new Date).getHours();1==datearr[3].toString().length&&(datearr[3]="0"+datearr[3]);break;case "%M":datearr[4]=(new Date).getMinutes();1==datearr[4].toString().length&&(datearr[4]="0"+datearr[4]);break;case "%S":datearr[5]=(new Date).getSeconds(),1==datearr[5].toString().length&&(datearr[5]="0"+datearr[5])}for(bloop=0;5>=bloop;++bloop)if(!(bloop in datearr&&
""!=datearr[bloop]))switch(bloop){case 0:datearr[bloop]="01";break;case 1:datearr[bloop]="01";break;case 2:datearr[bloop]=(new Date).getFullYear();break;case 3:datearr[bloop]="12";break;case 4:datearr[bloop]="00";break;case 5:datearr[bloop]="00"}parseabledate=datearr.slice(0,3).reverse().join("-")+"T"+datearr.slice(3).join(":");d=Date.parse(parseabledate);return strftime(a,new Date(d))}
function isValidInt(a,b,c){if(!a)return!0;if(a.match(/[^\-0-9]/g)||a.substring(1).match(/\-/g))return!1;if(null!==b&&null!==c){if(!(a>=b&&a<=c))return!1}else if(null!==b){if(!(a>=b))return!1}else if(null!==c&&!(a<=c))return!1;return!0}
function isValidFloat(a,b,c,h,f){if(!a)return!0;if(a.match(/[^\-0-9\.]/g)||a.substring(1).match(/\-/g))return!1;dots=a.split(".");if(2<dots.length)return!1;if(null!==b&&null!==c){if(!(a>=b&&a<=c))return!1}else if(null!==b){if(!(a>=b))return!1}else if(null!==c&&!(a<=c))return!1;null!==h&&null!==f&&(newv=parseFloat(a).toFixed(f),_PF_setVar(h,newv));return!0}
function _PF_convert(a,b){if((a=$o(a))&&a.value&&""!=a.value)switch(b){case "upper":a.value=a.value.toUpperCase();break;case "lower":a.value=a.value.toLowerCase();break;case "capitalise":ctmp=a.value.toLowerCase();for(cloop=0;cloop<=ctmp.length;++cloop)0==cloop?ctmp=ctmp.substr(cloop,1).toUpperCase()+ctmp.substr(cloop+1):" "==ctmp.substr(cloop-1,1)&&(ctmp=ctmp.substr(0,cloop)+ctmp.substr(cloop,1).toUpperCase()+ctmp.substr(cloop+1));a.value=ctmp}}
function _PF_addFragment(a){(a=$o(a))&&objtabtracker&&objtabtracker.val()&&(xhash=a.href.indexOf("#"),pos=0<xhash?xhash:a.href.length,(href=a.href.substr(0,pos)+"#"+objtabtracker.val())&&a.setAttribute("href",href));return!0}function _PF_loadJSFile(a){var b=document.createElement("script");b.setAttribute("src",_PF_JS_PATH+a);document.head.appendChild(b)}
function _PF_setCookie(a,b,c){domain=location.hostname;if(c){var h=new Date;h.setTime(h.getTime()+864E5*c);c="expires="+h.toUTCString();document.cookie=a+"="+b+";"+c+";domain="+domain+";path=/"}else document.cookie=a+"="+b+";domain="+domain+";path=/"}function _PF_getCookie(a){var b=document.cookie.split(";");for(loop=0;loop<b.length;loop++)if(tc=b[loop].replace(/^ +/,"").split("=",2),tc[0]==a)return tc[1];return""}function _PF_postCompile(a){try{_postCompile&&_postCompile(a)}catch(b){}}
var _PF_postCompileConfig=null,_PF_JS_PATH=function(){var a=document.getElementsByTagName("script");return a[a.length-1].src.replace(/\/[^\/]+$/,"")+"/"}();_PF_loadJSFile("sprintf.js");_PF_loadJSFile("strftime.js");_PF_loadJSFile("jquery-bindfirst.js");
